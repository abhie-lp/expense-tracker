{% extends "base.html" %}
{% load static %}

{% block title %}History{% endblock title %}

{% block style %}
  <link rel="stylesheet" type="text/css"
        href="{% static 'vendor/css/bs5-datatables.min.css' %}"/>
{% endblock style %}

{% block content %}
  <div class="row">
    <div class="col-12 col-lg-2">Form</div>
    <div class="col-12 col-lg-10">
      <h3 class="h3 text-center">Expenses Data</h3>
      <table id="expense_history"
             class="table table-sm table-hover table-responsive table-responsive-sm table-light table-bordered">
        <thead class="table-dark">
          <tr>
            <th>Date</th>
            <th>Amount</th>
            <th>Description</th>
            <th>Category</th>
            <th>Method</th>
            <th>App</th>
          </tr>
        </thead>

        <tbody>
          {% for q in qs %}
            <tr>
              {% for e in q %}
                <td>{{ e }}</td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock content %}

{% block script %}
  <script type="text/javascript" src="{% static 'vendor/js/pdfmake.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'vendor/js/vfs_fonts.js' %}"></script>
  <script type="text/javascript" src="{% static 'vendor/js/bs5-datatables.min.js' %}"></script>
  <script type="text/javascript">
    $(document).ready(function () {
      $('#expense_history').DataTable({
        ordering: false,
        scrollY: 370,
        lengthMenu: [25, 50, 75, 100],
        "dom": "<'row'<'col-sm-4'l><'col-sm-4'B><'col-sm-4 ms-n1'f>><'row'<'col-md-12't>><'row'<'col-md-6'i><'col-md-6'p>>",
        buttons: [
          {
            extend: 'csv',
            title: '{{ file_title }}',
            className: 'me-1'
          },
          {
            extend: 'pdf',
            title: '{{ file_title }}',
            className: "me-1"
          },
          {
            extend: 'print',
            title: '{{ file_title }}',
          }
        ],
        columnDefs: [
          {targets: [1], searchable: false},
        ]
      });
    });
  </script>
{% endblock script %}
